{"ast":null,"code":"import _objectSpread from\"C:/Users/Asus/Desktop/SAAS-NOTES-APP-SETUP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../contexts/AuthContext';import{supabase}from'../../lib/supabase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CompanylessUsersList=()=>{const{user,profile,logActivity}=useAuth();const[companylessUsers,setCompanylessUsers]=useState([]);const[invitations,setInvitations]=useState([]);const[loading,setLoading]=useState(true);const[inviting,setInviting]=useState({});const[error,setError]=useState('');useEffect(()=>{if(profile!==null&&profile!==void 0&&profile.tenant_id){fetchData();}},[profile]);const fetchData=async()=>{try{setLoading(true);// Fetch companyless users\nconst{data:users,error:usersError}=await supabase.from('profiles').select('id, email, full_name, created_at, last_login').eq('role','companyless_user').is('tenant_id',null).order('created_at',{ascending:false});if(usersError){console.error('Error fetching companyless users:',usersError);setError('Failed to load users');}else{setCompanylessUsers(users||[]);}// Fetch existing invitations for this company\nconst{data:invites,error:invitesError}=await supabase.from('invitations').select('invited_email, status, created_at, expires_at').eq('tenant_id',profile.tenant_id);if(invitesError){console.error('Error fetching invitations:',invitesError);}else{setInvitations(invites||[]);}}catch(error){console.error('Error fetching data:',error);setError('Failed to load data');}finally{setLoading(false);}};const getInvitationStatus=userEmail=>{const invitation=invitations.find(inv=>inv.invited_email===userEmail);if(!invitation)return null;// Check if invitation is expired\nif(invitation.status==='pending'&&new Date(invitation.expires_at)<new Date()){return _objectSpread({status:'expired'},invitation);}return invitation;};const handleInviteUser=async(userEmail,userName)=>{setInviting(prev=>_objectSpread(_objectSpread({},prev),{},{[userEmail]:true}));setError('');try{var _profile$tenants;// Check if there's already a pending invitation\nconst existingInvitation=getInvitationStatus(userEmail);if(existingInvitation&&existingInvitation.status==='pending'){setError('There is already a pending invitation for this user');return;}// Create invitation\nconst{data,error:inviteError}=await supabase.from('invitations').insert([{tenant_id:profile.tenant_id,invited_by:user.id,invited_email:userEmail,role:'tenant_user',message:\"You have been invited to join \".concat((_profile$tenants=profile.tenants)===null||_profile$tenants===void 0?void 0:_profile$tenants.company_name)}]).select().single();if(inviteError){console.error('Error creating invitation:',inviteError);setError('Failed to send invitation');}else{// Log activity\nif(user&&profile){await logActivity(user.id,profile.tenant_id,'create','invitation',data.id,\"Invited \".concat(userEmail,\" (\").concat(userName,\") to join company\"));}// Refresh data to show updated invitation status\nawait fetchData();}}catch(error){console.error('Error sending invitation:',error);setError('Failed to send invitation');}finally{setInviting(prev=>_objectSpread(_objectSpread({},prev),{},{[userEmail]:false}));}};const formatDate=dateString=>{if(!dateString)return'Never';return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};const getStatusBadge=invitation=>{if(!invitation){return/*#__PURE__*/_jsx(\"span\",{style:{background:'#6c757d',color:'white',padding:'4px 8px',borderRadius:'12px',fontSize:'12px',fontWeight:'bold'},children:\"Not Invited\"});}const statusColors={'pending':'#ffc107','accepted':'#28a745','declined':'#dc3545','expired':'#6c757d'};return/*#__PURE__*/_jsx(\"span\",{style:{background:statusColors[invitation.status]||'#6c757d',color:'white',padding:'4px 8px',borderRadius:'12px',fontSize:'12px',fontWeight:'bold'},children:invitation.status.charAt(0).toUpperCase()+invitation.status.slice(1)});};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center'},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Loading companyless users...\"})});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Available Users to Invite (\",companylessUsers.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchData,style:{padding:'8px 16px',background:'#28a745',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Refresh\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#f8d7da',color:'#721c24',padding:'12px',borderRadius:'4px',marginBottom:'20px',border:'1px solid #f5c6cb'},children:error}),companylessUsers.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px',color:'#666'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No companyless users found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"There are currently no individual users available to invite.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',background:'white',borderRadius:'8px',overflow:'hidden',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'1px solid #dee2e6'},children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'1px solid #dee2e6'},children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'1px solid #dee2e6'},children:\"Joined\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'1px solid #dee2e6'},children:\"Last Login\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'1px solid #dee2e6'},children:\"Invitation Status\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'1px solid #dee2e6'},children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:companylessUsers.map((user,index)=>{const invitation=getInvitationStatus(user.email);const isInviting=inviting[user.email];const canInvite=!invitation||invitation.status==='declined'||invitation.status==='expired';return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #dee2e6',background:index%2===0?'white':'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:user.full_name})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:user.email}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:formatDate(user.created_at)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:formatDate(user.last_login)}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'12px'},children:[getStatusBadge(invitation),invitation&&invitation.status==='pending'&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666',marginTop:'2px'},children:[\"Expires: \",formatDate(invitation.expires_at)]})]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:canInvite?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleInviteUser(user.email,user.full_name),disabled:isInviting,style:{padding:'6px 12px',background:isInviting?'#6c757d':'#007bff',color:'white',border:'none',borderRadius:'4px',cursor:isInviting?'not-allowed':'pointer',fontSize:'14px'},children:isInviting?'Inviting...':'Invite'}):/*#__PURE__*/_jsx(\"span\",{style:{color:'#666',fontSize:'14px'},children:invitation.status==='pending'?'Invitation Sent':invitation.status==='accepted'?'Already Joined':'Invitation Sent'})})]},user.id);})})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',background:'#f8f9fa',padding:'15px',borderRadius:'8px',border:'1px solid #e1e5e9'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:'10px',color:'#333'},children:\"Invitation Status Guide\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'20px',flexWrap:'wrap',fontSize:'14px',color:'#666'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Not Invited:\"}),\" User hasn't been invited yet\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Pending:\"}),\" Invitation sent, waiting for response\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Accepted:\"}),\" User joined your company\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Declined:\"}),\" User declined the invitation\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Expired:\"}),\" Invitation expired after 7 days\"]})]})]})]});};export default CompanylessUsersList;","map":{"version":3,"names":["React","useState","useEffect","useAuth","supabase","jsx","_jsx","jsxs","_jsxs","CompanylessUsersList","user","profile","logActivity","companylessUsers","setCompanylessUsers","invitations","setInvitations","loading","setLoading","inviting","setInviting","error","setError","tenant_id","fetchData","data","users","usersError","from","select","eq","is","order","ascending","console","invites","invitesError","getInvitationStatus","userEmail","invitation","find","inv","invited_email","status","Date","expires_at","_objectSpread","handleInviteUser","userName","prev","_profile$tenants","existingInvitation","inviteError","insert","invited_by","id","role","message","concat","tenants","company_name","single","formatDate","dateString","toLocaleDateString","year","month","day","getStatusBadge","style","background","color","padding","borderRadius","fontSize","fontWeight","children","statusColors","charAt","toUpperCase","slice","textAlign","display","justifyContent","alignItems","marginBottom","length","onClick","border","cursor","overflowX","width","borderCollapse","overflow","boxShadow","borderBottom","map","index","email","isInviting","canInvite","full_name","created_at","last_login","marginTop","disabled","gap","flexWrap"],"sources":["C:/Users/Asus/Desktop/SAAS-NOTES-APP-SETUP/src/components/Dashboard/CompanylessUsersList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { supabase } from '../../lib/supabase';\n\nconst CompanylessUsersList = () => {\n  const { user, profile, logActivity } = useAuth();\n  const [companylessUsers, setCompanylessUsers] = useState([]);\n  const [invitations, setInvitations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [inviting, setInviting] = useState({});\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (profile?.tenant_id) {\n      fetchData();\n    }\n  }, [profile]);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch companyless users\n      const { data: users, error: usersError } = await supabase\n        .from('profiles')\n        .select('id, email, full_name, created_at, last_login')\n        .eq('role', 'companyless_user')\n        .is('tenant_id', null)\n        .order('created_at', { ascending: false });\n\n      if (usersError) {\n        console.error('Error fetching companyless users:', usersError);\n        setError('Failed to load users');\n      } else {\n        setCompanylessUsers(users || []);\n      }\n\n      // Fetch existing invitations for this company\n      const { data: invites, error: invitesError } = await supabase\n        .from('invitations')\n        .select('invited_email, status, created_at, expires_at')\n        .eq('tenant_id', profile.tenant_id);\n\n      if (invitesError) {\n        console.error('Error fetching invitations:', invitesError);\n      } else {\n        setInvitations(invites || []);\n      }\n\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      setError('Failed to load data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getInvitationStatus = (userEmail) => {\n    const invitation = invitations.find(inv => inv.invited_email === userEmail);\n    if (!invitation) return null;\n    \n    // Check if invitation is expired\n    if (invitation.status === 'pending' && new Date(invitation.expires_at) < new Date()) {\n      return { status: 'expired', ...invitation };\n    }\n    \n    return invitation;\n  };\n\n  const handleInviteUser = async (userEmail, userName) => {\n    setInviting(prev => ({ ...prev, [userEmail]: true }));\n    setError('');\n\n    try {\n      // Check if there's already a pending invitation\n      const existingInvitation = getInvitationStatus(userEmail);\n      if (existingInvitation && existingInvitation.status === 'pending') {\n        setError('There is already a pending invitation for this user');\n        return;\n      }\n\n      // Create invitation\n      const { data, error: inviteError } = await supabase\n        .from('invitations')\n        .insert([{\n          tenant_id: profile.tenant_id,\n          invited_by: user.id,\n          invited_email: userEmail,\n          role: 'tenant_user',\n          message: `You have been invited to join ${profile.tenants?.company_name}`\n        }])\n        .select()\n        .single();\n\n      if (inviteError) {\n        console.error('Error creating invitation:', inviteError);\n        setError('Failed to send invitation');\n      } else {\n        // Log activity\n        if (user && profile) {\n          await logActivity(\n            user.id, \n            profile.tenant_id, \n            'create', \n            'invitation', \n            data.id, \n            `Invited ${userEmail} (${userName}) to join company`\n          );\n        }\n\n        // Refresh data to show updated invitation status\n        await fetchData();\n      }\n    } catch (error) {\n      console.error('Error sending invitation:', error);\n      setError('Failed to send invitation');\n    } finally {\n      setInviting(prev => ({ ...prev, [userEmail]: false }));\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Never';\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const getStatusBadge = (invitation) => {\n    if (!invitation) {\n      return (\n        <span style={{\n          background: '#6c757d',\n          color: 'white',\n          padding: '4px 8px',\n          borderRadius: '12px',\n          fontSize: '12px',\n          fontWeight: 'bold'\n        }}>\n          Not Invited\n        </span>\n      );\n    }\n\n    const statusColors = {\n      'pending': '#ffc107',\n      'accepted': '#28a745',\n      'declined': '#dc3545',\n      'expired': '#6c757d'\n    };\n\n    return (\n      <span style={{\n        background: statusColors[invitation.status] || '#6c757d',\n        color: 'white',\n        padding: '4px 8px',\n        borderRadius: '12px',\n        fontSize: '12px',\n        fontWeight: 'bold'\n      }}>\n        {invitation.status.charAt(0).toUpperCase() + invitation.status.slice(1)}\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: '20px', textAlign: 'center' }}>\n        <h3>Loading companyless users...</h3>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h2>Available Users to Invite ({companylessUsers.length})</h2>\n        <button \n          onClick={fetchData}\n          style={{\n            padding: '8px 16px',\n            background: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          Refresh\n        </button>\n      </div>\n\n      {error && (\n        <div style={{ \n          background: '#f8d7da', \n          color: '#721c24', \n          padding: '12px', \n          borderRadius: '4px', \n          marginBottom: '20px',\n          border: '1px solid #f5c6cb'\n        }}>\n          {error}\n        </div>\n      )}\n\n      {companylessUsers.length === 0 ? (\n        <div style={{ textAlign: 'center', padding: '40px', color: '#666' }}>\n          <h3>No companyless users found</h3>\n          <p>There are currently no individual users available to invite.</p>\n        </div>\n      ) : (\n        <div style={{ overflowX: 'auto' }}>\n          <table style={{ \n            width: '100%', \n            borderCollapse: 'collapse',\n            background: 'white',\n            borderRadius: '8px',\n            overflow: 'hidden',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          }}>\n            <thead>\n              <tr style={{ background: '#f8f9fa' }}>\n                <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #dee2e6' }}>Name</th>\n                <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #dee2e6' }}>Email</th>\n                <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #dee2e6' }}>Joined</th>\n                <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #dee2e6' }}>Last Login</th>\n                <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #dee2e6' }}>Invitation Status</th>\n                <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #dee2e6' }}>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {companylessUsers.map((user, index) => {\n                const invitation = getInvitationStatus(user.email);\n                const isInviting = inviting[user.email];\n                const canInvite = !invitation || invitation.status === 'declined' || invitation.status === 'expired';\n                \n                return (\n                  <tr \n                    key={user.id}\n                    style={{ \n                      borderBottom: '1px solid #dee2e6',\n                      background: index % 2 === 0 ? 'white' : '#f8f9fa'\n                    }}\n                  >\n                    <td style={{ padding: '12px' }}>\n                      <div style={{ fontWeight: 'bold' }}>{user.full_name}</div>\n                    </td>\n                    <td style={{ padding: '12px' }}>{user.email}</td>\n                    <td style={{ padding: '12px' }}>{formatDate(user.created_at)}</td>\n                    <td style={{ padding: '12px' }}>{formatDate(user.last_login)}</td>\n                    <td style={{ padding: '12px' }}>\n                      {getStatusBadge(invitation)}\n                      {invitation && invitation.status === 'pending' && (\n                        <div style={{ fontSize: '11px', color: '#666', marginTop: '2px' }}>\n                          Expires: {formatDate(invitation.expires_at)}\n                        </div>\n                      )}\n                    </td>\n                    <td style={{ padding: '12px' }}>\n                      {canInvite ? (\n                        <button\n                          onClick={() => handleInviteUser(user.email, user.full_name)}\n                          disabled={isInviting}\n                          style={{\n                            padding: '6px 12px',\n                            background: isInviting ? '#6c757d' : '#007bff',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: isInviting ? 'not-allowed' : 'pointer',\n                            fontSize: '14px'\n                          }}\n                        >\n                          {isInviting ? 'Inviting...' : 'Invite'}\n                        </button>\n                      ) : (\n                        <span style={{ color: '#666', fontSize: '14px' }}>\n                          {invitation.status === 'pending' ? 'Invitation Sent' : \n                           invitation.status === 'accepted' ? 'Already Joined' : 'Invitation Sent'}\n                        </span>\n                      )}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      <div style={{ marginTop: '20px', background: '#f8f9fa', padding: '15px', borderRadius: '8px', border: '1px solid #e1e5e9' }}>\n        <h4 style={{ marginBottom: '10px', color: '#333' }}>Invitation Status Guide</h4>\n        <div style={{ display: 'flex', gap: '20px', flexWrap: 'wrap', fontSize: '14px', color: '#666' }}>\n          <div>• <strong>Not Invited:</strong> User hasn't been invited yet</div>\n          <div>• <strong>Pending:</strong> Invitation sent, waiting for response</div>\n          <div>• <strong>Accepted:</strong> User joined your company</div>\n          <div>• <strong>Declined:</strong> User declined the invitation</div>\n          <div>• <strong>Expired:</strong> Invitation expired after 7 days</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CompanylessUsersList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}